//sign inexports.signIn = function(req,res){	res.render('signIn');};//loginexports.login = function(db){	return function (req, res) {		var post = req.body;		var collection = db.get('usercollection');		collection.find({},{},function(e,docs){			var i=0;			while (docs[i]) {				if (post.user == docs[i].username && post.password == docs[i].password) {					req.session.user_id = "001";					res.redirect('/userlist');					return;				};				i++;			}			res.send('Bad user/pass');		});	};};//User Listexports.userlist = function(db){	return function(req,res){		//if (req.session.user_id) {			var collection = db.get('usercollection');			collection.find({},{},function(e,docs){				res.render('userlist',{					"userlist" : docs,					title : "user_list"				});			});		//}else{		//	res.render('signIn');		//};	};};//Add User Formexports.adduser =  function(db){	return function(req,res){		//if (req.session.user_id) {			//Get Input Submissions			var first_name = req.body.first_name;			var last_name = req.body.last_name;			var username = req.body.username;			var email = req.body.email;			var lang = req.body.language;			var password = req.body.password;					//Set Collection			var collection = db.get('usercollection');					//Submit to the DB			collection.insert({				"first_name" : first_name,				"last_name" : last_name,				"username" : username,				"email" : email,				"language" : lang,				"password" : password			},function(err,doc){				if(err){					res.send('There was a problem');				} else {					res.location('userlist');					res.redirect('userlist');				}			});		//}else{		//	res.render('signIn');		//};	};}; 